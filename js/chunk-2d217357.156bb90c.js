(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d217357"],{c66d:function(a,e,t){"use strict";t.r(e);var r=function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("v-container",{staticClass:"fill-height"},[t("v-row",{attrs:{justify:"center",align:"center"}},[t("v-col",{attrs:{cols:"6",xl:"5"}},[t("v-card",{staticClass:"elevation-12"},[t("v-toolbar",{attrs:{color:"primary",dark:"",flat:""}},[t("v-avatar",{attrs:{color:"black-grey"}},[a.imgUrl?t("v-img",{attrs:{src:a.imgUrl}}):t("v-icon",{attrs:{dense:""}},[a._v("mdi-account-circle")])],1),t("v-toolbar-title",{staticClass:"ml-2 d-block text-center text-uppercase"},[a._v("Edit Profile ")])],1),t("v-card-text",{staticClass:"card"},[t("v-form",{ref:"registerForm",staticClass:"d-flex flex-column",attrs:{"lazy-validation":""},model:{value:a.valid,callback:function(e){a.valid=e},expression:"valid"}},[t("v-row",[t("v-col",[t("v-text-field",{attrs:{rules:a.userNameRules,label:"Username",light:"",required:""},model:{value:a.userName,callback:function(e){a.userName=e},expression:"userName"}}),t("v-text-field",{attrs:{label:"First Name",light:"",required:""},model:{value:a.firstName,callback:function(e){a.firstName=e},expression:"firstName"}}),t("v-text-field",{attrs:{label:"Last Name",light:"",required:""},model:{value:a.lastName,callback:function(e){a.lastName=e},expression:"lastName"}}),t("v-combobox",{attrs:{items:a.countries,rules:[function(a){return!!a||"Please select country"}],"item-text":"name",label:"Country",light:"",required:""},scopedSlots:a._u([{key:"selection",fn:function(e){var r=e.item;return[t("img",{staticClass:"country-icon",attrs:{height:"16",src:r.flag,width:"24"}}),t("span",{staticClass:"mx-2"}),a._v(" "+a._s(r.name)+" ")]}},{key:"item",fn:function(e){var r=e.item;return[t("img",{staticClass:"country-icon",attrs:{height:"16",src:r.flag,width:"24"}}),t("span",{staticClass:"mx-2"}),a._v(" "+a._s(r.name)+" ")]}}]),model:{value:a.country,callback:function(e){a.country=e},expression:"country"}})],1),t("v-col",[t("v-text-field",{attrs:{rules:a.passwordRules,label:"Old Password",type:"password",required:"",light:""},model:{value:a.oldPassword,callback:function(e){a.oldPassword=e},expression:"oldPassword"}}),t("v-text-field",{attrs:{rules:a.passwordRules,label:"New Password",light:"",required:"",type:"password"},model:{value:a.newPassword,callback:function(e){a.newPassword=e},expression:"newPassword"}}),t("v-text-field",{attrs:{label:"Email",light:"",required:""},model:{value:a.email,callback:function(e){a.email=e},expression:"email"}}),t("form",{ref:"imageUpload",staticClass:"d-flex align-center",attrs:{enctype:"multipart/form-data"}},[t("v-file-input",{staticClass:"flex-grow-1",attrs:{accept:"image/*",label:"Upload New Picture",light:"",required:"",name:"file",id:"imageInput"},model:{value:a.imgObj,callback:function(e){a.imgObj=e},expression:"imgObj"}}),t("v-btn",{staticClass:"ml-4 small white--text",attrs:{loading:a.loading,color:"blue-grey",fab:"",outlined:"",small:""},on:{click:a.performUpload}},[t("v-icon",{attrs:{dark:""}},[a._v("mdi-cloud-upload")])],1)],1)],1)],1)],1)],1),t("v-card-actions",{staticClass:"d-flex flex-column card"},[t("v-btn",{staticClass:"mb-4 align-self-stretch",attrs:{disabled:!a.valid,color:"success",light:""},on:{click:a.validateCredentials}},[a._v("Update ")])],1)],1)],1)],1)],1)},s=[],l=(t("b0c0"),t("ac1f"),t("1276"),t("96cf"),t("1da1")),i=t("6bf2"),n=t("912a"),o=t("39aa"),c=t("4185"),d={data:function(){return{valid:!0,userName:"",userNameRules:c["b"],oldPassword:"",passwordRules:c["a"],newPassword:"",firstName:"",lastName:"",countries:n,country:"",email:"",imgUrl:"",imgObj:{},loading:!1}},created:function(){var a=this.$store.getters.currentUser;this.userName=a.login,this.imgUrl=a.avatar,this.firstName=a.fullname.split(" ")[0],this.lastName=a.fullname.split(" ")[1],this.email=a.email,this.country=a.country},methods:{performUpload:function(){var a=this;return Object(l["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a.imgObj.name){e.next=2;break}return e.abrupt("return");case 2:return a.loading=!0,t=new FormData,t.append("image",a.imgObj,a.imgObj.name),e.next=7,o["a"].uploadImg(t);case 7:a.imgUrl=e.sent,a.loading=!1;case 9:case"end":return e.stop()}}),e)})))()},validateCredentials:function(){var a=this;if(this.$refs.registerForm.validate()){var e={login:this.userName,password:this.newPassword,role:"Client",avatar:this.imgUrl,fullname:this.firstName+" "+this.lastName,country:this.country.name,email:this.email,is_blocked:!1,question:"Place of Birth?",answer:"Dimona"};i["a"].updateUser(e).then((function(){return a.$router.push("/")})).catch((function(a){return console.log(a)}))}}}},u=d,m=t("2877"),f=t("6544"),v=t.n(f),g=t("8212"),b=t("8336"),p=t("b0af"),h=t("99d9"),w=t("62ad"),x=t("2b5d"),C=t("a523"),N=t("23a7"),k=t("4bd4"),y=t("132d"),V=t("adda"),P=t("0fd9"),U=t("8654"),_=t("71d9"),j=t("2a7f"),O=Object(m["a"])(u,r,s,!1,null,null,null);e["default"]=O.exports;v()(O,{VAvatar:g["a"],VBtn:b["a"],VCard:p["a"],VCardActions:h["a"],VCardText:h["b"],VCol:w["a"],VCombobox:x["a"],VContainer:C["a"],VFileInput:N["a"],VForm:k["a"],VIcon:y["a"],VImg:V["a"],VRow:P["a"],VTextField:U["a"],VToolbar:_["a"],VToolbarTitle:j["a"]})}}]);
//# sourceMappingURL=chunk-2d217357.156bb90c.js.map